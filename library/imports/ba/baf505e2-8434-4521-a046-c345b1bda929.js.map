{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\common\\script/assets\\common\\script\\player.js"],"names":["cc","Class","extends","Component","properties","ID","default","onLoad","gameManager","find","getComponent","animation","node","Animation","on","_finished","hitAnimName","beHitedAnimName","standUpAnimName","complacentAnimName","sitDownAnimName","playerState","Player_State","None","clientEvent","eventType","hitEvent","standUpEventMed","standUpEvent","complacentEvent","sitDown","param","complacent","standUp","SitDown","play","hit","beingHit","setSiblingIndex","Hit","BeingHit","StandUp","Complacent","event","none","onDestroy","off"],"mappings":"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","file":"player.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\common\\script","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        ID: {\r\n            default: 0\r\n        }\r\n    },\r\n\r\n    onLoad() {\r\n        this.gameManager = cc.find('Canvas').getComponent('gameManager');\r\n        this.animation = this.node.getComponent(cc.Animation);\r\n        this.animation.on('finished', this._finished, this);\r\n        this.hitAnimName = 'beat1'\r\n        this.beHitedAnimName = 'beingBeaten';\r\n        this.standUpAnimName = 'bescold';\r\n        this.complacentAnimName = 'dese';\r\n        this.sitDownAnimName = 'lunges';\r\n        this.playerState = Player_State.None;\r\n        clientEvent.on(clientEvent.eventType.hitEvent, this.hitEvent, this);\r\n        clientEvent.on(clientEvent.eventType.standUpEventMed, this.standUpEvent, this);\r\n        clientEvent.on(clientEvent.eventType.complacentEvent, this.complacentEvent, this);\r\n        clientEvent.on(clientEvent.eventType.sitDown, this.sitDown, this);\r\n    },\r\n    complacentEvent(param) {\r\n        if (param.ID === this.ID) {\r\n            this.complacent();\r\n        }\r\n    },\r\n    standUpEvent(param) {\r\n        if (param.ID === this.ID) {\r\n            this.standUp();\r\n        }\r\n    },\r\n    sitDown() {\r\n        this.playerState = Player_State.SitDown;\r\n        this.animation.play(this.sitDownAnimName);\r\n    },\r\n    hitEvent(param) {\r\n        if (param.ID === this.ID) {\r\n            this.hit();\r\n\r\n        } else {\r\n            this.beingHit();\r\n        }\r\n    },\r\n    hit() {\r\n        this.node.setSiblingIndex(999);\r\n        this.playerState = Player_State.Hit;\r\n        this.animation.play(this.hitAnimName);\r\n    },\r\n    beingHit() {\r\n        this.node.setSiblingIndex(0);\r\n        this.playerState = Player_State.BeingHit;\r\n        this.animation.play(this.beHitedAnimName);\r\n    },\r\n    standUp() {\r\n        this.playerState = Player_State.StandUp;\r\n        this.animation.play(this.standUpAnimName);\r\n    },\r\n    complacent() {\r\n        this.playerState = Player_State.Complacent;\r\n        this.animation.play(this.complacentAnimName);\r\n    },\r\n    _finished(event) {\r\n        this.playerState = Player_State.none;\r\n    },\r\n    onDestroy() {\r\n        this.animation.off('finished', this._finished, this);\r\n\r\n        clientEvent.off(clientEvent.eventType.hitEvent, this.hitEvent, this);\r\n        clientEvent.off(clientEvent.eventType.standUpEventMed, this.standUpEvent, this);\r\n        clientEvent.off(clientEvent.eventType.complacentEvent, this.complacentEvent, this);\r\n        clientEvent.off(clientEvent.eventType.sitDown, this.sitDown, this);\r\n    }\r\n\r\n});\r\n"]}